(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[303],{6964:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var r=function(){var e=this,t=e._self._c;return t("b-container",{staticClass:"recipe-preview-container"},[t("b-row",{staticClass:"d-flex align-items-center justify-content-between"},[t("b-col",[t("h3",[e._v(e._s(e.title))])]),t("b-col",{staticClass:"text-right"},["main"===e.parentPageName?t("div",[t("b-iconstack",{staticClass:"rotate-on-hover",attrs:{"font-scale":"2.8"},on:{click:e.refreshRecipes}},[t("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"success"}}),t("b-icon",{attrs:{stacked:"",icon:"arrow-repeat",scale:"0.8",variant:"white"}})],1)],1):"favorites"===e.parentPageName||"private"===e.parentPageName?t("div",[t("b-icon",{staticClass:"mr-2",class:e.hasPreviousPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle-fill",variant:e.hasPreviousPage?"success":"secondary","font-scale":"2.8"},on:{click:e.previousPage}}),t("b-icon",{staticClass:"mr-2",class:e.hasNextPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-right-circle-fill",variant:e.hasNextPage?"success":"secondary","font-scale":"2.8"},on:{click:e.nextPage}})],1):e._e()])],1),e._l(e.displayedRecipes,(function(a){return t("b-row",{key:a.id,staticClass:"mt-4"},[t("RecipePreview",{attrs:{recipe:a},on:{"favorite-toggled":e.handleFavoriteToggle}})],1)}))],2)},s=[];a(1703),a(6647);function n(e){throw new TypeError('"'+e+'" is read-only')}var i=a(124),c=a(8534),o=(a(7042),a(8309),a(4553),a(561),a(7658),a(7733)),l=a(9206);const u={name:"RecipePreviewList",components:{RecipePreview:o.Z},props:{title:{type:String,required:!0}},data:function(){return{recipes:[],displayedRecipes:[],currentPage:0,pageSize:3,parentPageName:""}},computed:{hasPreviousPage:function(){return this.currentPage>0},hasNextPage:function(){var e=this.recipes.length,t=Math.ceil(e/this.pageSize);return this.currentPage<t-1}},mounted:function(){this.determineParentPageName(),this.updateRecipesBackEnd()},methods:{updateRecipesBackEnd:function(){var e=this;return(0,c.Z)((0,i.Z)().mark((function t(){var a,r,s,n,c;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"main"!==e.parentPageName){t.next=9;break}return a=3,t.next=5,e.axios.get("".concat(e.$root.store.server_domain,"/recipes/random"),{params:{number:a}},{withCredentials:!0});case 5:r=t.sent,e.recipes=r.data,t.next=25;break;case 9:if("favorites"!==e.parentPageName){t.next=16;break}return t.next=12,e.axios.get("".concat(e.$root.store.server_domain,"/user/favorites/show"),{withCredentials:!0});case 12:s=t.sent,e.recipes=s.data,t.next=25;break;case 16:if("PrivatePage"!==e.parentPageName){t.next=23;break}return t.next=19,e.axios.get("".concat(e.$root.store.server_domain,"/user/PrivatePage"),{withCredentials:!0});case 19:n=t.sent,e.recipes=n.data,t.next=25;break;case 23:c=(0,l.j)(10),e.recipes=c.data.recipes;case 25:e.updateDisplayedRecipes(),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](0),console.error("Error fetching recipes:",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,28]])})))()},updateDisplayedRecipes:function(){var e=this.currentPage*this.pageSize,t=e+this.pageSize;this.displayedRecipes=this.recipes.slice(e,t)},nextPage:function(){this.hasNextPage&&(this.currentPage+=1,this.updateDisplayedRecipes())},previousPage:function(){this.hasPreviousPage&&(this.currentPage-=1,this.updateDisplayedRecipes())},refreshRecipes:function(){this.updateRecipesBackEnd()},determineParentPageName:function(){var e=this.$route.name;"main"===e?this.parentPageName="main":"favorites"===e?this.parentPageName="favorites":"private"===e?this.parentPageName="private":"search"===e&&(this.parentPageName="search")},handleFavoriteToggle:function(e){if("favorites"===this.parentPageName){var t=this.recipes.findIndex((function(t){return t.id===e}));if(-1!==t){this.recipes.splice(t,1);var a=this.displayedRecipes.findIndex((function(t){return t.id===e}));-1!==a&&(this.displayedRecipes.splice(a,1),this.fillDisplayedRecipes())}else console.warn("Recipe not found in favorites:",e)}},fillDisplayedRecipes:function(){var e=this.pageSize-this.displayedRecipes.length;if(e>0)for(var t=this.currentPage*this.pageSize,a=t+this.pageSize;a<this.recipes.length&&e>0;a++)this.displayedRecipes.push(this.recipes[a]),n("numberOfNeededRecipes");0===this.displayedRecipes.length&&this.hasPreviousPage&&this.previousPage(),this.updateDisplayedRecipes()}}},p=u;var d=a(1001),h=(0,d.Z)(p,r,s,!1,null,"de9c5fc0",null);const f=h.exports},5535:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});a(1058);var r=function(){var e=this,t=e._self._c;return t("b-card",{staticClass:"custom-card"},[t("h1",{staticClass:"title"},[e._v("Search Page")]),t("div",{staticClass:"mt-3"},[t("h6",{staticClass:"mb-2 font-weight-bold result-header"},[e._v("Amount of results")]),t("b-button-group",e._l(e.results,(function(a){return t("b-button",{key:a,staticClass:"btn-lg result-button",attrs:{variant:a===e.selectedResult?"custom-active":"outline-custom"},on:{click:function(t){return e.selectResult(a)}}},[e._v(" "+e._s(a)+" ")])})),1)],1),t("div",{staticClass:"d-flex justify-content-between align-items-center mt-3"},[t("b-form-input",{staticClass:"w-75 taller-input mr-2",attrs:{placeholder:"Look for a recipe..."},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),t("div",[t("b-button",{staticClass:"btn-lg search-button",on:{click:e.performSearch}},[e._v("Search")]),t("b-button",{staticClass:"ml-2 btn-lg",attrs:{variant:"secondary"},on:{click:e.resetSearch}},[e._v("Reset")])],1)],1),t("div",{staticClass:"row mt-3"},e._l(e.selects,(function(a,r){return t("div",{key:r,staticClass:"col-sm-4"},[t("h6",{staticClass:"mb-2 font-weight-bold"},[e._v(e._s(a.title))]),t("b-form-select",{staticClass:"mt-1",attrs:{options:a.options,size:"sm"},model:{value:a.selected,callback:function(t){e.$set(a,"selected",t)},expression:"select.selected"}})],1)})),0),e.recipes.length>0?t("RecipePreviewList",{attrs:{numberOfRecipes:parseInt(e.selectedResult),recipes:e.recipes}}):e._e()],1)},s=[],n=a(124),i=(a(2526),a(1817),a(1539),a(2165),a(8783),a(3948),a(9753),a(1703),a(6647),a(2780));function c(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=(0,i.Z)(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,s=function(){};return{s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){o=!0,n=e},f:function(){try{c||null==a["return"]||a["return"]()}finally{if(o)throw n}}}}var o=a(8534),l=a(9584),u=(a(9554),a(4747),a(2222),a(1249),a(3210),a(7658),a(9669)),p=a.n(u),d=a(6964),h=["African","Asian","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],f=[{value:"gluten-free",text:"Gluten Free"},{value:"ketogenic",text:"Ketogenic"},{value:"vegetarian",text:"Vegetarian"},{value:"lacto-vegetarian",text:"Lacto-Vegetarian"},{value:"ovo-vegetarian",text:"Ovo-Vegetarian"},{value:"vegan",text:"Vegan"},{value:"pescetarian",text:"Pescetarian"},{value:"paleo",text:"Paleo"},{value:"primal",text:"Primal"},{value:"low-fodmap",text:"Low FODMAP"},{value:"whole30",text:"Whole30"}],v=["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"];const g={components:{RecipePreviewList:d.Z},data:function(){return{text:"",selectedResult:"5",selects:[{title:"Cuisine",selected:null,options:[]},{title:"Diet",selected:null,options:[]},{title:"Intolerance",selected:null,options:[]}],recipes:[]}},computed:{results:function(){return["5","10","15"]}},mounted:function(){this.selects.forEach((function(e,t){switch(t){case 0:e.options=[{value:null,text:"Please select a cuisine"}].concat((0,l.Z)(h.map((function(e){return{value:e.toLowerCase(),text:e}}))));break;case 1:e.options=[{value:null,text:"Please select a diet"}].concat((0,l.Z)(f.map((function(e){return{value:e.value,text:e.text}}))));break;case 2:e.options=[{value:null,text:"Please select an intolerance"}].concat((0,l.Z)(v.map((function(e){return{value:e.toLowerCase(),text:e}}))));break;default:e.options=[]}}))},methods:{performSearch:function(){var e=this;return(0,o.Z)((0,n.Z)().mark((function t(){var a,r,s,i,o,l,u,d;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.text.trim()){t.next=3;break}return e.searchQueryEmpty=!0,t.abrupt("return");case 3:return e.searchQueryEmpty=!1,t.prev=4,t.next=7,p().get("".concat(e.$root.store.server_domain,"/recipes/search"),{params:{recipeName:e.text,cuisine:e.selects[0].selected?e.selects[0].selected:null,diet:e.selects[1].selected?e.selects[1].selected:null,intolerance:e.selects[2].selected?e.selects[2].selected:null,number:e.selectedResult}});case 7:a=t.sent,r=a.data,s=[],i=c(r),t.prev=11,i.s();case 13:if((o=i.n()).done){t.next=22;break}return l=o.value,u=l.id,t.next=18,p().get("".concat(e.$root.store.server_domain,"/recipes/").concat(u,"/information"));case 18:d=t.sent,s.push(d.data);case 20:t.next=13;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](11),i.e(t.t0);case 27:return t.prev=27,i.f(),t.finish(27);case 30:e.recipes=s,e.searchPerformed=!0,e.noResultsFound=0===s.length,t.next=39;break;case 35:t.prev=35,t.t1=t["catch"](4),console.error("Search failed:",t.t1),e.noResultsFound=!0;case 39:case"end":return t.stop()}}),t,null,[[4,35],[11,24,27,30]])})))()},selectResult:function(e){this.selectedResult=e},resetSearch:function(){this.text="",this.selects.forEach((function(e){e.selected=null})),this.recipes=[],this.searchPerformed=!1,this.noResultsFound=!1}}},m=g;var x=a(1001),b=(0,x.Z)(m,r,s,!1,null,"2912f8f4",null);const P=b.exports},5117:(e,t,a)=>{"use strict";var r=a(6330),s=TypeError;e.exports=function(e,t){if(!delete e[t])throw s("Cannot delete property "+r(t)+" of "+r(e))}},3009:(e,t,a)=>{var r=a(7854),s=a(7293),n=a(1702),i=a(1340),c=a(3111).trim,o=a(1361),l=r.parseInt,u=r.Symbol,p=u&&u.iterator,d=/^[+-]?0x/i,h=n(d.exec),f=8!==l(o+"08")||22!==l(o+"0x16")||p&&!s((function(){l(Object(p))}));e.exports=f?function(e,t){var a=c(i(e));return l(a,t>>>0||(h(d,a)?16:10))}:l},2222:(e,t,a)=>{"use strict";var r=a(2109),s=a(7293),n=a(3157),i=a(111),c=a(7908),o=a(6244),l=a(7207),u=a(6135),p=a(5417),d=a(1194),h=a(5112),f=a(7392),v=h("isConcatSpreadable"),g=f>=51||!s((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),m=function(e){if(!i(e))return!1;var t=e[v];return void 0!==t?!!t:n(e)},x=!g||!d("concat");r({target:"Array",proto:!0,arity:1,forced:x},{concat:function(e){var t,a,r,s,n,i=c(this),d=p(i,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(n=-1===t?i:arguments[t],m(n))for(s=o(n),l(h+s),a=0;a<s;a++,h++)a in n&&u(d,h,n[a]);else l(h+1),u(d,h++,n);return d.length=h,d}})},4553:(e,t,a)=>{"use strict";var r=a(2109),s=a(2092).findIndex,n=a(1223),i="findIndex",c=!0;i in[]&&Array(1)[i]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n(i)},561:(e,t,a)=>{"use strict";var r=a(2109),s=a(7908),n=a(1400),i=a(9303),c=a(6244),o=a(3658),l=a(7207),u=a(5417),p=a(6135),d=a(5117),h=a(1194),f=h("splice"),v=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var a,r,h,f,m,x,b=s(this),P=c(b),y=n(e,P),w=arguments.length;for(0===w?a=r=0:1===w?(a=0,r=P-y):(a=w-2,r=g(v(i(t),0),P-y)),l(P+a-r),h=u(b,r),f=0;f<r;f++)m=y+f,m in b&&p(h,f,b[m]);if(h.length=r,a<r){for(f=y;f<P-r;f++)m=f+r,x=f+a,m in b?b[x]=b[m]:d(b,x);for(f=P;f>P-r+a;f--)d(b,f-1)}else if(a>r)for(f=P-r;f>y;f--)m=f+r-1,x=f+a-1,m in b?b[x]=b[m]:d(b,x);for(f=0;f<a;f++)b[f+y]=arguments[f+2];return o(b,P-r+a),h}})},1058:(e,t,a)=>{var r=a(2109),s=a(3009);r({global:!0,forced:parseInt!=s},{parseInt:s})}}]);
//# sourceMappingURL=303.771128f6.js.map