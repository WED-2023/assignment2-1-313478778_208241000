"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[228],{6247:(e,r,s)=>{s.d(r,{Z:()=>f});var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"container"},[r("h1",{staticClass:"title mb-4"},[e._v("Login")]),r("b-form",{on:{submit:function(r){return r.preventDefault(),e.onLogin.apply(null,arguments)}}},[r("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"4",label:"Username:","label-for":"Username"}},[r("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(r){e.$set(e.$v.form.username,"$model",r)},expression:"$v.form.username.$model"}}),r("b-form-invalid-feedback",[e._v(" Username is required ")])],1),r("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"4",label:"Password:","label-for":"Password"}},[r("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(r){e.$set(e.$v.form.password,"$model",r)},expression:"$v.form.password.$model"}}),r("b-form-invalid-feedback",[e._v(" Password is required ")])],1),r("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),r("div",{staticClass:"mt-4"},[e._v(" Do not have an account yet? "),r("span",{staticStyle:{cursor:"pointer","text-decoration":"underline",color:"#0000EE"},on:{click:e.handleToggleForm}},[e._v("Register here ")])])],1),e.form.submitError?r("b-alert",{staticClass:"mt-4",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},o=[],a=s(124),n=s(8534),i=(s(7658),s(379)),l=s(9239);const u={name:"LoginForm",props:{toggleForm:{type:Function,required:!0}},data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:i.C1},password:{required:i.C1}}},methods:{validateState:function(e){var r=this.$v.form[e],s=r.$dirty,t=r.$error;return s?!t:null},Login:function(){var e=this;return(0,n.Z)((0,a.Z)().mark((function r(){var s;return(0,a.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:try{s=!0,(0,l.sD)(e.form.username,e.form.password,s),e.$root.store.login(e.form.username),e.$router.push("/")}catch(t){e.form.submitError=t.response.data.message}case 1:case"end":return r.stop()}}),r)})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()},handleToggleForm:function(){var e=this.$route.path;"/"===e?this.toggleForm():"/login"===e&&this.$router.push("/register")}}},m=u;var d=s(1001),c=(0,d.Z)(m,t,o,!1,null,"85863802",null);const f=c.exports},5228:(e,r,s)=>{s.r(r),s.d(r,{default:()=>m});var t=function(){var e=this,r=e._self._c;return r("div",[r("LoginForm",{attrs:{toggleForm:e.toggleForm}})],1)},o=[],a=s(6247);const n={components:{LoginForm:a.Z},methods:{toggleForm:function(){console.log("Toggle form called")}}},i=n;var l=s(1001),u=(0,l.Z)(i,t,o,!1,null,"694dfc0d",null);const m=u.exports},9239:(e,r,s)=>{function t(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!r)throw{status:409,response:{data:{message:"A user is already logged in",success:!1}}};return{status:200,response:{data:{message:"login succeeded",success:!0}}}}function o(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!r)throw{status:409,response:{data:{message:"Username taken",success:!1}}};return{status:200,response:{data:{message:"user created",success:!0}}}}s.d(r,{Ge:()=>o,sD:()=>t})}}]);
//# sourceMappingURL=228.e61d7c5f.js.map