"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[211],{5923:(e,t,a)=>{a.d(t,{Z:()=>f});var i=function(){var e=this,t=e._self._c;return t("b-container",{staticClass:"recipe-preview-container"},[t("b-row",{staticClass:"d-flex align-items-center justify-content-between"},[t("b-col",[t("h3",[e._v(e._s(e.title))])]),t("b-col",{staticClass:"text-right"},["main"===e.parentPageName?t("div",[t("b-iconstack",{staticClass:"rotate-on-hover",attrs:{"font-scale":"2.8"},on:{click:e.refreshRecipes}},[t("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"success"}}),t("b-icon",{attrs:{stacked:"",icon:"arrow-repeat",scale:"0.8",variant:"white"}})],1)],1):"favorites"===e.parentPageName||"private"===e.parentPageName?t("div",[t("b-icon",{staticClass:"mr-2",class:e.hasPreviousPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle-fill",variant:e.hasPreviousPage?"success":"secondary","font-scale":"2.8"},on:{click:e.previousPage}}),t("b-icon",{staticClass:"mr-2",class:e.hasNextPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-right-circle-fill",variant:e.hasNextPage?"success":"secondary","font-scale":"2.8"},on:{click:e.nextPage}})],1):e._e()])],1),e._l(e.displayedRecipes,(function(a){return t("b-row",{key:a.id,staticClass:"mt-4"},[t("RecipePreview",{attrs:{recipe:a},on:{"favorite-toggled":e.handleFavoriteToggle}})],1)}))],2)},s=[];a(1703),a(6647);function r(e){throw new TypeError('"'+e+'" is read-only')}var n=a(124),o=a(8534),c=(a(7042),a(8309),a(4553),a(561),a(7658),a(7733)),l=a(9206);const p={name:"RecipePreviewList",components:{RecipePreview:c.Z},props:{title:{type:String,required:!0}},data:function(){return{recipes:[],displayedRecipes:[],currentPage:0,pageSize:3,parentPageName:""}},computed:{hasPreviousPage:function(){return this.currentPage>0},hasNextPage:function(){var e=this.recipes.length,t=Math.ceil(e/this.pageSize);return this.currentPage<t-1}},mounted:function(){this.determineParentPageName(),this.updateRecipesBackEnd()},methods:{updateRecipesBackEnd:function(){var e=this;return(0,o.Z)((0,n.Z)().mark((function t(){var a,i,s,r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"main"!==e.parentPageName){t.next=9;break}return a=3,t.next=5,e.axios.get("".concat(e.$root.store.server_domain,"/recipes/random"),{params:{number:a}},{withCredentials:!0});case 5:i=t.sent,e.recipes=i.data,t.next=18;break;case 9:if("favorites"!==e.parentPageName){t.next=16;break}return t.next=12,e.axios.get("".concat(e.$root.store.server_domain,"/user/favorites/show"),{withCredentials:!0});case 12:s=t.sent,e.recipes=s.data,t.next=18;break;case 16:r=(0,l.j)(10),e.recipes=r.data.recipes;case 18:e.updateDisplayedRecipes(),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),console.error("Error fetching recipes:",t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},updateDisplayedRecipes:function(){var e=this.currentPage*this.pageSize,t=e+this.pageSize;this.displayedRecipes=this.recipes.slice(e,t)},nextPage:function(){this.hasNextPage&&(this.currentPage+=1,this.updateDisplayedRecipes())},previousPage:function(){this.hasPreviousPage&&(this.currentPage-=1,this.updateDisplayedRecipes())},refreshRecipes:function(){this.updateRecipesBackEnd()},determineParentPageName:function(){var e=this.$route.name;"main"===e?this.parentPageName="main":"favorites"===e?this.parentPageName="favorites":"private"===e&&(this.parentPageName="private")},handleFavoriteToggle:function(e){if("favorites"===this.parentPageName){var t=this.recipes.findIndex((function(t){return t.id===e}));if(-1!==t){this.recipes.splice(t,1);var a=this.displayedRecipes.findIndex((function(t){return t.id===e}));-1!==a&&(this.displayedRecipes.splice(a,1),this.fillDisplayedRecipes())}else console.warn("Recipe not found in favorites:",e)}},fillDisplayedRecipes:function(){var e=this.pageSize-this.displayedRecipes.length;if(e>0)for(var t=this.currentPage*this.pageSize,a=t+this.pageSize;a<this.recipes.length&&e>0;a++)this.displayedRecipes.push(this.recipes[a]),r("numberOfNeededRecipes");0===this.displayedRecipes.length&&this.hasPreviousPage&&this.previousPage(),this.updateDisplayedRecipes()}}},u=p;var d=a(1001),h=(0,d.Z)(u,i,s,!1,null,"ab3678a0",null);const f=h.exports},2638:(e,t,a)=>{a.d(t,{Z:()=>l});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome-user-container"},[t("b-jumbotron",{staticClass:"custom-jumbotron",attrs:{"bg-variant":e.bgVariant,"text-variant":e.textVariant},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",{staticClass:"main-hello"},[e._v(e._s(e.greetingMessage))])]},proxy:!0},{key:"lead",fn:function(){return[e._v(" "+e._s(e.welcomeMessage)+" ")]},proxy:!0}])},[t("p",[e._v(e._s(e.mainText))])])],1)},s=[];const r={name:"WelcomeUser",props:{welcomeMessage:{type:String,default:"Welcome to Recipedia!"},mainText:{type:String,default:"Explore a world of delicious recipes, from quick meals to gourmet dishes, curated by top chefs. Whether you're a beginner or a seasoned cook, you'll find inspiration, tips, and ideas to create unforgettable meals for every occasion."},bgVariant:{type:String,default:""},textVariant:{type:String,default:"dark"}},computed:{greetingMessage:function(){return this.$root.store.username?"Hello ".concat(this.$root.store.username):"Hello Guest"}}},n=r;var o=a(1001),c=(0,o.Z)(n,i,s,!1,null,"a046bd98",null);const l=c.exports},8294:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var i=function(){var e=this,t=e._self._c;return t("b-container",[t("b-row",{staticClass:"text-center"},[t("b-col",{staticClass:"d-flex justify-content-center align-items-center"},[t("WelcomUser",{attrs:{welcomeMessage:"Welcome to Your Private Recipes!",mainText:"In this space, you can easily manage and revisit the recipes youâ€™ve crafted.\n        Whether you want to tweak a beloved dish or embark on a new cooking adventure, your personal collection awaits.\n        Take advantage of this organized hub to share your culinary passion and create memorable meals!"}})],1),t("b-col",[t("RecipePreviewList",{attrs:{title:"Your Recipes:"}})],1)],1)],1)},s=[],r=(a(7658),a(5923)),n=a(2638);const o={components:{RecipePreviewList:r.Z,WelcomUser:n.Z},data:function(){return{}},computed:{isLoggedIn:function(){return!!this.$root.store.username}},methods:{showLoginRequiredToast:function(){this.$root.toast("Access Denied","You must be logged in to access the private page.","warning")}},mounted:function(){this.isLoggedIn||(this.showLoginRequiredToast(),this.$router.push("/login"))}},c=o;var l=a(1001),p=(0,l.Z)(c,i,s,!1,null,"7bdeccae",null);const u=p.exports},5117:(e,t,a)=>{var i=a(6330),s=TypeError;e.exports=function(e,t){if(!delete e[t])throw s("Cannot delete property "+i(t)+" of "+i(e))}},4553:(e,t,a)=>{var i=a(2109),s=a(2092).findIndex,r=a(1223),n="findIndex",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),r(n)},561:(e,t,a)=>{var i=a(2109),s=a(7908),r=a(1400),n=a(9303),o=a(6244),c=a(3658),l=a(7207),p=a(5417),u=a(6135),d=a(5117),h=a(1194),f=h("splice"),g=Math.max,v=Math.min;i({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var a,i,h,f,m,y,P=s(this),b=o(P),x=r(e,b),w=arguments.length;for(0===w?a=i=0:1===w?(a=0,i=b-x):(a=w-2,i=v(g(n(t),0),b-x)),l(b+a-i),h=p(P,i),f=0;f<i;f++)m=x+f,m in P&&u(h,f,P[m]);if(h.length=i,a<i){for(f=x;f<b-i;f++)m=f+i,y=f+a,m in P?P[y]=P[m]:d(P,y);for(f=b;f>b-i+a;f--)d(P,f-1)}else if(a>i)for(f=b-i;f>x;f--)m=f+i-1,y=f+a-1,m in P?P[y]=P[m]:d(P,y);for(f=0;f<a;f++)P[f+x]=arguments[f+2];return c(P,b-i+a),h}})}}]);
//# sourceMappingURL=211.0950c694.js.map