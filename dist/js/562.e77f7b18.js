"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[562],{6964:(e,t,a)=>{a.d(t,{Z:()=>g});var i=function(){var e=this,t=e._self._c;return t("b-container",{staticClass:"recipe-preview-container"},[t("b-row",{staticClass:"d-flex align-items-center justify-content-between"},[t("b-col",[t("h3",[e._v(e._s(e.title))])]),t("b-col",{staticClass:"text-right"},["main"===e.parentPageName?t("div",[t("b-iconstack",{staticClass:"rotate-on-hover",attrs:{"font-scale":"2.8"},on:{click:e.refreshRecipes}},[t("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"success"}}),t("b-icon",{attrs:{stacked:"",icon:"arrow-repeat",scale:"0.8",variant:"white"}})],1)],1):"favorites"===e.parentPageName||"private"===e.parentPageName?t("div",[t("b-icon",{staticClass:"mr-2",class:e.hasPreviousPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle-fill",variant:e.hasPreviousPage?"success":"secondary","font-scale":"2.8"},on:{click:e.previousPage}}),t("b-icon",{staticClass:"mr-2",class:e.hasNextPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-right-circle-fill",variant:e.hasNextPage?"success":"secondary","font-scale":"2.8"},on:{click:e.nextPage}})],1):e._e()])],1),e._l(e.displayedRecipes,(function(a){return t("b-row",{key:a.id,staticClass:"mt-4"},[t("RecipePreview",{attrs:{recipe:a},on:{"favorite-toggled":e.handleFavoriteToggle}})],1)}))],2)},r=[];a(1703),a(6647);function s(e){throw new TypeError('"'+e+'" is read-only')}var n=a(124),o=a(8534),c=(a(7042),a(8309),a(4553),a(561),a(7658),a(7733)),l=a(9206);const p={name:"RecipePreviewList",components:{RecipePreview:c.Z},props:{title:{type:String,required:!0}},data:function(){return{recipes:[],displayedRecipes:[],currentPage:0,pageSize:3,parentPageName:""}},computed:{hasPreviousPage:function(){return this.currentPage>0},hasNextPage:function(){var e=this.recipes.length,t=Math.ceil(e/this.pageSize);return this.currentPage<t-1}},mounted:function(){this.determineParentPageName(),this.updateRecipesBackEnd()},methods:{updateRecipesBackEnd:function(){var e=this;return(0,o.Z)((0,n.Z)().mark((function t(){var a,i,r,s,o;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"main"!==e.parentPageName){t.next=9;break}return a=3,t.next=5,e.axios.get("".concat(e.$root.store.server_domain,"/recipes/random"),{params:{number:a}},{withCredentials:!0});case 5:i=t.sent,e.recipes=i.data,t.next=25;break;case 9:if("favorites"!==e.parentPageName){t.next=16;break}return t.next=12,e.axios.get("".concat(e.$root.store.server_domain,"/user/favorites/show"),{withCredentials:!0});case 12:r=t.sent,e.recipes=r.data,t.next=25;break;case 16:if("PrivatePage"!==e.parentPageName){t.next=23;break}return t.next=19,e.axios.get("".concat(e.$root.store.server_domain,"/user/PrivatePage"),{withCredentials:!0});case 19:s=t.sent,e.recipes=s.data,t.next=25;break;case 23:o=(0,l.j)(10),e.recipes=o.data.recipes;case 25:e.updateDisplayedRecipes(),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](0),console.error("Error fetching recipes:",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,28]])})))()},updateDisplayedRecipes:function(){var e=this.currentPage*this.pageSize,t=e+this.pageSize;this.displayedRecipes=this.recipes.slice(e,t)},nextPage:function(){this.hasNextPage&&(this.currentPage+=1,this.updateDisplayedRecipes())},previousPage:function(){this.hasPreviousPage&&(this.currentPage-=1,this.updateDisplayedRecipes())},refreshRecipes:function(){this.updateRecipesBackEnd()},determineParentPageName:function(){var e=this.$route.name;"main"===e?this.parentPageName="main":"favorites"===e?this.parentPageName="favorites":"private"===e?this.parentPageName="private":"search"===e&&(this.parentPageName="search")},handleFavoriteToggle:function(e){if("favorites"===this.parentPageName){var t=this.recipes.findIndex((function(t){return t.id===e}));if(-1!==t){this.recipes.splice(t,1);var a=this.displayedRecipes.findIndex((function(t){return t.id===e}));-1!==a&&(this.displayedRecipes.splice(a,1),this.fillDisplayedRecipes())}else console.warn("Recipe not found in favorites:",e)}},fillDisplayedRecipes:function(){var e=this.pageSize-this.displayedRecipes.length;if(e>0)for(var t=this.currentPage*this.pageSize,a=t+this.pageSize;a<this.recipes.length&&e>0;a++)this.displayedRecipes.push(this.recipes[a]),s("numberOfNeededRecipes");0===this.displayedRecipes.length&&this.hasPreviousPage&&this.previousPage(),this.updateDisplayedRecipes()}}},u=p;var d=a(1001),h=(0,d.Z)(u,i,r,!1,null,"de9c5fc0",null);const g=h.exports},2638:(e,t,a)=>{a.d(t,{Z:()=>l});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome-user-container"},[t("b-jumbotron",{staticClass:"custom-jumbotron",attrs:{"bg-variant":e.bgVariant,"text-variant":e.textVariant},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",{staticClass:"main-hello"},[e._v(e._s(e.greetingMessage))])]},proxy:!0},{key:"lead",fn:function(){return[e._v(" "+e._s(e.welcomeMessage)+" ")]},proxy:!0}])},[t("p",[e._v(e._s(e.mainText))])])],1)},r=[];const s={name:"WelcomeUser",props:{welcomeMessage:{type:String,default:"Welcome to Recipedia!"},mainText:{type:String,default:"Explore a world of delicious recipes, from quick meals to gourmet dishes, curated by top chefs. Whether you're a beginner or a seasoned cook, you'll find inspiration, tips, and ideas to create unforgettable meals for every occasion."},bgVariant:{type:String,default:""},textVariant:{type:String,default:"dark"}},computed:{greetingMessage:function(){return this.$root.store.username?"Hello ".concat(this.$root.store.username):"Hello Guest"}}},n=s;var o=a(1001),c=(0,o.Z)(n,i,r,!1,null,"a046bd98",null);const l=c.exports},1426:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var i=function(){var e=this,t=e._self._c;return t("b-container",[t("b-row",{staticClass:"text-center"},[t("b-col",{staticClass:"d-flex justify-content-center align-items-center"},[t("WelcomUser",{attrs:{welcomeMessage:"Welcome to Your Favorite Recipes!",mainText:"Here, you can easily revisit all the delicious recipes you've saved. Whether you want to recreate a classic dish or\n        experiment with something new, your favorites are just a click away.\n        Enjoy the convenience of having all your go-to recipes in one place,\n        making meal planning and cooking a breeze. Dive back into your culinary creations and let your taste buds explore!"}})],1),t("b-col",[t("RecipePreviewList",{attrs:{title:"Your Favorites:"}})],1)],1)],1)},r=[],s=(a(7658),a(6964)),n=a(2638);const o={components:{RecipePreviewList:s.Z,WelcomUser:n.Z},data:function(){return{}},computed:{isLoggedIn:function(){return!!this.$root.store.username}},methods:{showLoginRequiredToast:function(){this.$root.toast("Access Denied","You must be logged in to access the favorites page.","warning")}},mounted:function(){this.isLoggedIn||(this.showLoginRequiredToast(),this.$router.push("/login"))}},c=o;var l=a(1001),p=(0,l.Z)(c,i,r,!1,null,"60ed0f2a",null);const u=p.exports},5117:(e,t,a)=>{var i=a(6330),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+i(t)+" of "+i(e))}},4553:(e,t,a)=>{var i=a(2109),r=a(2092).findIndex,s=a(1223),n="findIndex",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s(n)},561:(e,t,a)=>{var i=a(2109),r=a(7908),s=a(1400),n=a(9303),o=a(6244),c=a(3658),l=a(7207),p=a(5417),u=a(6135),d=a(5117),h=a(1194),g=h("splice"),f=Math.max,v=Math.min;i({target:"Array",proto:!0,forced:!g},{splice:function(e,t){var a,i,h,g,m,y,P=r(this),x=o(P),b=s(e,x),w=arguments.length;for(0===w?a=i=0:1===w?(a=0,i=x-b):(a=w-2,i=v(f(n(t),0),x-b)),l(x+a-i),h=p(P,i),g=0;g<i;g++)m=b+g,m in P&&u(h,g,P[m]);if(h.length=i,a<i){for(g=b;g<x-i;g++)m=g+i,y=g+a,m in P?P[y]=P[m]:d(P,y);for(g=x;g>x-i+a;g--)d(P,g-1)}else if(a>i)for(g=x-i;g>b;g--)m=g+i-1,y=g+a-1,m in P?P[y]=P[m]:d(P,y);for(g=0;g<a;g++)P[g+b]=arguments[g+2];return c(P,x-i+a),h}})}}]);
//# sourceMappingURL=562.e77f7b18.js.map