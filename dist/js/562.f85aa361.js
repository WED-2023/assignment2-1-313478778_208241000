"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[562],{5923:(e,t,i)=>{i.d(t,{Z:()=>f});var a=function(){var e=this,t=e._self._c;return t("b-container",{staticClass:"recipe-preview-container"},[t("b-row",{staticClass:"d-flex align-items-center justify-content-between"},[t("b-col",[t("h3",[e._v(e._s(e.title))])]),t("b-col",{staticClass:"text-right"},["main"===e.parentPageName?t("div",[t("b-iconstack",{staticClass:"rotate-on-hover",attrs:{"font-scale":"2.8"},on:{click:e.refreshRecipes}},[t("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"success"}}),t("b-icon",{attrs:{stacked:"",icon:"arrow-repeat",scale:"0.8",variant:"white"}})],1)],1):"favorites"===e.parentPageName||"private"===e.parentPageName?t("div",[t("b-icon",{staticClass:"mr-2",class:e.hasPreviousPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle-fill",variant:e.hasPreviousPage?"success":"secondary","font-scale":"2.8"},on:{click:e.previousPage}}),t("b-icon",{staticClass:"mr-2",class:e.hasNextPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-right-circle-fill",variant:e.hasNextPage?"success":"secondary","font-scale":"2.8"},on:{click:e.nextPage}})],1):e._e()])],1),e._l(e.displayedRecipes,(function(i){return t("b-row",{key:i.id,staticClass:"mt-4"},[t("RecipePreview",{attrs:{recipe:i},on:{"favorite-toggled":e.handleFavoriteToggle}})],1)}))],2)},s=[];i(1703),i(6647);function r(e){throw new TypeError('"'+e+'" is read-only')}var n=i(124),o=i(8534),c=(i(7042),i(8309),i(4553),i(561),i(7658),i(7733)),l=i(9206);const p={name:"RecipePreviewList",components:{RecipePreview:c.Z},props:{title:{type:String,required:!0}},data:function(){return{recipes:[],displayedRecipes:[],currentPage:0,pageSize:3,parentPageName:""}},computed:{hasPreviousPage:function(){return this.currentPage>0},hasNextPage:function(){var e=this.recipes.length,t=Math.ceil(e/this.pageSize);return this.currentPage<t-1}},mounted:function(){this.determineParentPageName(),this.updateRecipesBackEnd()},methods:{updateRecipesBackEnd:function(){var e=this;return(0,o.Z)((0,n.Z)().mark((function t(){var i,a,s,r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"main"!==e.parentPageName){t.next=9;break}return i=3,t.next=5,e.axios.get("".concat(e.$root.store.server_domain,"/recipes/random"),{params:{number:i}},{withCredentials:!0});case 5:a=t.sent,e.recipes=a.data,t.next=18;break;case 9:if("favorites"!==e.parentPageName){t.next=16;break}return t.next=12,e.axios.get("".concat(e.$root.store.server_domain,"/user/favorites/show"),{withCredentials:!0});case 12:s=t.sent,e.recipes=s.data,t.next=18;break;case 16:r=(0,l.j)(10),e.recipes=r.data.recipes;case 18:e.updateDisplayedRecipes(),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),console.error("Error fetching recipes:",t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},updateDisplayedRecipes:function(){var e=this.currentPage*this.pageSize,t=e+this.pageSize;this.displayedRecipes=this.recipes.slice(e,t)},nextPage:function(){this.hasNextPage&&(this.currentPage+=1,this.updateDisplayedRecipes())},previousPage:function(){this.hasPreviousPage&&(this.currentPage-=1,this.updateDisplayedRecipes())},refreshRecipes:function(){this.updateRecipesBackEnd()},determineParentPageName:function(){var e=this.$route.name;"main"===e?this.parentPageName="main":"favorites"===e?this.parentPageName="favorites":"private"===e&&(this.parentPageName="private")},handleFavoriteToggle:function(e){if("favorites"===this.parentPageName){var t=this.recipes.findIndex((function(t){return t.id===e}));if(-1!==t){this.recipes.splice(t,1);var i=this.displayedRecipes.findIndex((function(t){return t.id===e}));-1!==i&&(this.displayedRecipes.splice(i,1),this.fillDisplayedRecipes())}else console.warn("Recipe not found in favorites:",e)}},fillDisplayedRecipes:function(){var e=this.pageSize-this.displayedRecipes.length;if(e>0)for(var t=this.currentPage*this.pageSize,i=t+this.pageSize;i<this.recipes.length&&e>0;i++)this.displayedRecipes.push(this.recipes[i]),r("numberOfNeededRecipes");0===this.displayedRecipes.length&&this.hasPreviousPage&&this.previousPage(),this.updateDisplayedRecipes()}}},u=p;var d=i(1001),h=(0,d.Z)(u,a,s,!1,null,"ab3678a0",null);const f=h.exports},2638:(e,t,i)=>{i.d(t,{Z:()=>l});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome-user-container"},[t("b-jumbotron",{staticClass:"custom-jumbotron",attrs:{"bg-variant":e.bgVariant,"text-variant":e.textVariant},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",{staticClass:"main-hello"},[e._v(e._s(e.greetingMessage))])]},proxy:!0},{key:"lead",fn:function(){return[e._v(" "+e._s(e.welcomeMessage)+" ")]},proxy:!0}])},[t("p",[e._v(e._s(e.mainText))])])],1)},s=[];const r={name:"WelcomeUser",props:{welcomeMessage:{type:String,default:"Welcome to Recipedia!"},mainText:{type:String,default:"Explore a world of delicious recipes, from quick meals to gourmet dishes, curated by top chefs. Whether you're a beginner or a seasoned cook, you'll find inspiration, tips, and ideas to create unforgettable meals for every occasion."},bgVariant:{type:String,default:""},textVariant:{type:String,default:"dark"}},computed:{greetingMessage:function(){return this.$root.store.username?"Hello ".concat(this.$root.store.username):"Hello Guest"}}},n=r;var o=i(1001),c=(0,o.Z)(n,a,s,!1,null,"a046bd98",null);const l=c.exports},1426:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var a=function(){var e=this,t=e._self._c;return t("b-container",[t("b-row",{staticClass:"text-center"},[t("b-col",{staticClass:"d-flex justify-content-center align-items-center"},[t("WelcomUser",{attrs:{welcomeMessage:"Welcome to Your Favorite Recipes!",mainText:"Here, you can easily revisit all the delicious recipes you've saved. Whether you want to recreate a classic dish or\n        experiment with something new, your favorites are just a click away.\n        Enjoy the convenience of having all your go-to recipes in one place,\n        making meal planning and cooking a breeze. Dive back into your culinary creations and let your taste buds explore!"}})],1),t("b-col",[t("RecipePreviewList",{attrs:{title:"Your Favorites:"}})],1)],1)],1)},s=[],r=(i(7658),i(5923)),n=i(2638);const o={components:{RecipePreviewList:r.Z,WelcomUser:n.Z},data:function(){return{}},computed:{isLoggedIn:function(){return!!this.$root.store.username}},methods:{showLoginRequiredToast:function(){this.$root.toast("Access Denied","You must be logged in to access the favorites page.","warning")}},mounted:function(){this.isLoggedIn||(this.showLoginRequiredToast(),this.$router.push("/login"))}},c=o;var l=i(1001),p=(0,l.Z)(c,a,s,!1,null,"60ed0f2a",null);const u=p.exports},5117:(e,t,i)=>{var a=i(6330),s=TypeError;e.exports=function(e,t){if(!delete e[t])throw s("Cannot delete property "+a(t)+" of "+a(e))}},4553:(e,t,i)=>{var a=i(2109),s=i(2092).findIndex,r=i(1223),n="findIndex",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),r(n)},561:(e,t,i)=>{var a=i(2109),s=i(7908),r=i(1400),n=i(9303),o=i(6244),c=i(3658),l=i(7207),p=i(5417),u=i(6135),d=i(5117),h=i(1194),f=h("splice"),g=Math.max,v=Math.min;a({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var i,a,h,f,m,y,P=s(this),x=o(P),b=r(e,x),w=arguments.length;for(0===w?i=a=0:1===w?(i=0,a=x-b):(i=w-2,a=v(g(n(t),0),x-b)),l(x+i-a),h=p(P,a),f=0;f<a;f++)m=b+f,m in P&&u(h,f,P[m]);if(h.length=a,i<a){for(f=b;f<x-a;f++)m=f+a,y=f+i,m in P?P[y]=P[m]:d(P,y);for(f=x;f>x-a+i;f--)d(P,f-1)}else if(i>a)for(f=x-a;f>b;f--)m=f+a-1,y=f+i-1,m in P?P[y]=P[m]:d(P,y);for(f=0;f<i;f++)P[f+b]=arguments[f+2];return c(P,x-a+i),h}})}}]);
//# sourceMappingURL=562.f85aa361.js.map