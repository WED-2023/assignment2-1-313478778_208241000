"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[244],{4266:(e,t,a)=>{a.d(t,{Z:()=>g});var r=function(){var e=this,t=e._self._c;return t("b-container",{staticClass:"recipe-preview-container"},[t("b-row",{staticClass:"d-flex align-items-center justify-content-between"},[t("b-col",[t("h3",[e._v(e._s(e.title))])]),t("b-col",{staticClass:"text-right"},["main"===e.parentPageName?t("div",[t("b-iconstack",{staticClass:"rotate-on-hover",attrs:{"font-scale":"2.8"},on:{click:e.refreshRecipes}},[t("b-icon",{attrs:{stacked:"",icon:"circle-fill",variant:"success"}}),t("b-icon",{attrs:{stacked:"",icon:"arrow-repeat",scale:"0.8",variant:"white"}})],1)],1):"favorites"===e.parentPageName||"private"===e.parentPageName?t("div",[t("b-icon",{staticClass:"mr-2",class:e.hasPreviousPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-left-circle-fill",variant:e.hasPreviousPage?"success":"secondary","font-scale":"2.8"},on:{click:e.previousPage}}),t("b-icon",{staticClass:"mr-2",class:e.hasNextPage?"rotate-on-hover":"",staticStyle:{cursor:"pointer"},attrs:{icon:"arrow-right-circle-fill",variant:e.hasNextPage?"success":"secondary","font-scale":"2.8"},on:{click:e.nextPage}})],1):e._e()])],1),e._l(e.displayedRecipes,(function(a){return t("b-row",{key:a.id,staticClass:"mt-4"},[t("RecipePreview",{attrs:{recipe:a},on:{"favorite-toggled":e.handleFavoriteToggle}})],1)}))],2)},i=[];a(1703),a(6647);function s(e){throw new TypeError('"'+e+'" is read-only')}var n=a(124),o=a(8534),c=(a(1249),a(3210),a(7042),a(8309),a(4553),a(561),a(7658),a(4307)),p=a(9206);const u={name:"RecipePreviewList",components:{RecipePreview:c.Z},props:{title:{type:String,required:!0}},data:function(){return{recipes:[],displayedRecipes:[],currentPage:0,pageSize:3,parentPageName:""}},computed:{hasPreviousPage:function(){return this.currentPage>0},hasNextPage:function(){var e=this.recipes.length,t=Math.ceil(e/this.pageSize);return this.currentPage<t-1}},mounted:function(){this.determineParentPageName(),this.updateRecipesBackEnd()},methods:{transformIngredients:function(e){return e.split(",").map((function(e){return{original:e.trim(),name:e.trim(),amount:1,unit:""}}))},transformInstructions:function(e){return[{name:"",steps:[{number:1,step:e}]}]},transformPrivateRecipes:function(e){var t=this;return e.map((function(e){return{id:e.id,title:e.title,readyInMinutes:e.readyInMinutes,image:e.image,vegetarian:e.diet.vegetarian,vegan:e.diet.vegan,glutenFree:e.diet.glutenFree,extendedIngredients:t.transformIngredients(e.ingredients),analyzedInstructions:t.transformInstructions(e.summary),aggregateLikes:0,servings:1}}))},updateRecipesBackEnd:function(){var e=this;return(0,o.Z)((0,n.Z)().mark((function t(){var a,r,i,s,o;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"main"!==e.parentPageName){t.next=9;break}return a=3,t.next=5,e.axios.get("".concat(e.$root.store.server_domain,"/recipes/random"),{params:{number:a}},{withCredentials:!0});case 5:r=t.sent,e.recipes=r.data,t.next=25;break;case 9:if("favorites"!==e.parentPageName){t.next=16;break}return t.next=12,e.axios.get("".concat(e.$root.store.server_domain,"/user/favorites/show"),{withCredentials:!0});case 12:i=t.sent,e.recipes=i.data,t.next=25;break;case 16:if("private"!==e.parentPageName){t.next=23;break}return t.next=19,e.axios.get("".concat(e.$root.store.server_domain,"/user/PrivateRecipes"),{withCredentials:!0});case 19:s=t.sent,e.recipes=e.transformPrivateRecipes(s.data),t.next=25;break;case 23:o=(0,p.j)(10),e.recipes=o.data.recipes;case 25:e.updateDisplayedRecipes(),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](0),console.error("Error fetching recipes:",t.t0);case 31:case"end":return t.stop()}}),t,null,[[0,28]])})))()},updateDisplayedRecipes:function(){var e=this.currentPage*this.pageSize,t=e+this.pageSize;this.displayedRecipes=this.recipes.slice(e,t)},nextPage:function(){this.hasNextPage&&(this.currentPage+=1,this.updateDisplayedRecipes())},previousPage:function(){this.hasPreviousPage&&(this.currentPage-=1,this.updateDisplayedRecipes())},refreshRecipes:function(){this.updateRecipesBackEnd()},determineParentPageName:function(){var e=this.$route.name;"main"===e?this.parentPageName="main":"favorites"===e?this.parentPageName="favorites":"private"===e?this.parentPageName="private":"search"===e&&(this.parentPageName="search")},handleFavoriteToggle:function(e){if("favorites"===this.parentPageName){var t=this.recipes.findIndex((function(t){return t.id===e}));if(-1!==t){this.recipes.splice(t,1);var a=this.displayedRecipes.findIndex((function(t){return t.id===e}));-1!==a&&(this.displayedRecipes.splice(a,1),this.fillDisplayedRecipes())}else console.warn("Recipe not found in favorites:",e)}},fillDisplayedRecipes:function(){var e=this.pageSize-this.displayedRecipes.length;if(e>0)for(var t=this.currentPage*this.pageSize,a=t+this.pageSize;a<this.recipes.length&&e>0;a++)this.displayedRecipes.push(this.recipes[a]),s("numberOfNeededRecipes");0===this.displayedRecipes.length&&this.hasPreviousPage&&this.previousPage(),this.updateDisplayedRecipes()}}},l=u;var d=a(1001),f=(0,d.Z)(l,r,i,!1,null,"177f3774",null);const g=f.exports},2638:(e,t,a)=>{a.d(t,{Z:()=>p});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"welcome-user-container"},[t("b-jumbotron",{staticClass:"custom-jumbotron",attrs:{"bg-variant":e.bgVariant,"text-variant":e.textVariant},scopedSlots:e._u([{key:"header",fn:function(){return[t("span",{staticClass:"main-hello"},[e._v(e._s(e.greetingMessage))])]},proxy:!0},{key:"lead",fn:function(){return[e._v(" "+e._s(e.welcomeMessage)+" ")]},proxy:!0}])},[t("p",[e._v(e._s(e.mainText))])])],1)},i=[];const s={name:"WelcomeUser",props:{welcomeMessage:{type:String,default:"Welcome to Recipedia!"},mainText:{type:String,default:"Explore a world of delicious recipes, from quick meals to gourmet dishes, curated by top chefs. Whether you're a beginner or a seasoned cook, you'll find inspiration, tips, and ideas to create unforgettable meals for every occasion."},bgVariant:{type:String,default:""},textVariant:{type:String,default:"dark"}},computed:{greetingMessage:function(){return this.$root.store.username?"Hello ".concat(this.$root.store.username):"Hello Guest"}}},n=s;var o=a(1001),c=(0,o.Z)(n,r,i,!1,null,"a046bd98",null);const p=c.exports},5117:(e,t,a)=>{var r=a(6330),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},4553:(e,t,a)=>{var r=a(2109),i=a(2092).findIndex,s=a(1223),n="findIndex",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(n)},561:(e,t,a)=>{var r=a(2109),i=a(7908),s=a(1400),n=a(9303),o=a(6244),c=a(3658),p=a(7207),u=a(5417),l=a(6135),d=a(5117),f=a(1194),g=f("splice"),h=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!g},{splice:function(e,t){var a,r,f,g,v,P,y=i(this),x=o(y),b=s(e,x),R=arguments.length;for(0===R?a=r=0:1===R?(a=0,r=x-b):(a=R-2,r=m(h(n(t),0),x-b)),p(x+a-r),f=u(y,r),g=0;g<r;g++)v=b+g,v in y&&l(f,g,y[v]);if(f.length=r,a<r){for(g=b;g<x-r;g++)v=g+r,P=g+a,v in y?y[P]=y[v]:d(y,P);for(g=x;g>x-r+a;g--)d(y,g-1)}else if(a>r)for(g=x-r;g>b;g--)v=g+r-1,P=g+a-1,v in y?y[P]=y[v]:d(y,P);for(g=0;g<a;g++)y[g+b]=arguments[g+2];return c(y,x-r+a),f}})}}]);
//# sourceMappingURL=244.7258485a.js.map